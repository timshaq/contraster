!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("BeforeAfter",[],e):"object"==typeof exports?exports.BeforeAfter=e():t.BeforeAfter=e()}(self,(function(){return(()=>{"use strict";var t={342:(t,e,n)=>{n.d(e,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([t.id,".stop-scroll {\n  height: 100%;\n  overflow: hidden;\n  pointer-events: none;\n}\nimg {\n  vertical-align: middle;\n}\n.before-after {\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  user-select: none;\n}\n.before-after-wrapper-before,\n.before-after-wrapper-after,\n.before-after-element-after {\n  pointer-events: none;\n}\n.before-after-wrapper-before {\n  width: 50%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  overflow: hidden;\n  left: 0;\n  z-index: 2;\n}\n.before-after-wrapper-before img {\n  height: 100%;\n}\n.before-after-element-after {\n  width: 100%;\n  height: 100%;\n}\n.before-after-wrapper-after img {\n  width: 100%;\n}\n.before-after-separator {\n  width: 10px;\n  height: 100%;\n  transform: translateX(-50%);\n  background-color: #333333;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 3;\n  transition: opacity 0.4s linear;\n}\n.before-after-separator.before-after-active-separator {\n  opacity: 0;\n  transition: opacity 0.4s linear;\n}\n.before-after.horizontal .before-after-wrapper-before {\n  width: 100%;\n  height: 50%;\n}\n.before-after.horizontal .before-after-wrapper-before img {\n  width: 100%;\n  height: 100%;\n}\n.before-after.horizontal .before-after-separator {\n  width: 100%;\n  height: 10px;\n  transform: translateY(-50%);\n  background-color: #333333;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 3;\n  transition: opacity 0.4s linear;\n}\n.before-after.horizontal .before-after-separator.before-after-active-separator {\n  opacity: 0;\n  transition: opacity 0.4s linear;\n}\n.before-after.diagonal .before-after-separator {\n  width: 100%;\n  height: 10px;\n  transform: translate(-50%, -50%);\n  background-color: #333333;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 3;\n  transition: opacity 0.4s linear;\n}\n.before-after.diagonal .before-after-separator.before-after-active-separator {\n  opacity: 0;\n  transition: opacity 0.4s linear;\n}\n",""]);const a=i},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(i[c]=!0)}for(var p=0;p<t.length;p++){var f=[].concat(t[p]);o&&i[f[0]]||(void 0!==s&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=s),n&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=n):f[2]=n),r&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=r):f[4]="".concat(r)),e.push(f))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var s={},i=[],a=0;a<t.length;a++){var c=t[a],p=o.base?c[0]+o.base:c[0],f=s[p]||0,h="".concat(p," ").concat(f);s[p]=f+1;var l=n(h),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==l)e[l].references++,e[l].updater(u);else{var d=r(u,o);o.byIndex=a,e.splice(a,0,{identifier:h,updater:d,references:1})}i.push(h)}return i}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var s=o(t=t||[],r=r||{});return function(t){t=t||[];for(var i=0;i<s.length;i++){var a=n(s[i]);e[a].references--}for(var c=o(t,r),p=0;p<s.length;p++){var f=n(s[p]);0===e[f].references&&(e[f].updater(),e.splice(f,1))}s=c}}},569:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={id:o,exports:{}};return t[o](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o={};return(()=>{n.d(o,{default:()=>z});var t=n(379),e=n.n(t),r=n(795),s=n.n(r),i=n(569),a=n.n(i),c=n(565),p=n.n(c),f=n(216),h=n.n(f),l=n(589),u=n.n(l),d=n(342),m={};m.styleTagTransform=u(),m.setAttributes=p(),m.insert=a().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=h(),e()(d.Z,m),d.Z&&d.Z.locals&&d.Z.locals;const v=new function(){var t=this;function e(e){t.lastTop=null,t.isContainerMove=!1,t.emit("mouseup",e)}function n(e){t.emit("mousedown",e)}function o(e){r(),t.emit("mousemove",e)}function r(e){t.isContainerMove?window.scrollTo(0,t.lastTop):t.lastTop=window.scrollY}t.lastTop=null,t.isContainerMove=!1,t.setTopScroll=function(){window.scrollTo(0,t.lastTop)},t.setContainerMove=function(e){t.isContainerMove=e},t.eventsListeners={},t.on=function(e,n){t.eventsListeners[e]||(t.eventsListeners[e]=[]),t.eventsListeners[e].push(n)},t.removeOn=function(e,n){t.eventsListeners[e]&&(t.eventsListeners[e]=t.eventsListeners[e].filter((function(t){return t!==n})))},t.emit=function(e,n){t.eventsListeners[e]&&t.eventsListeners[e].forEach((function(t){t(n)}))},document.addEventListener("mousedown",n),document.addEventListener("mouseup",e),document.addEventListener("mousemove",o),document.addEventListener("touchstart",n),document.addEventListener("touchend",e),document.addEventListener("touchcancel",e),document.addEventListener("touchmove",o),window.addEventListener("scroll",r),window.addEventListener("resize",(function(){t.emit("resize")}))};var y="stop-scroll",b="before-after-active-separator";function g(){switch(this.options.direction){case"horizontal":return"before-after horizontal";case"diagonal":return"before-after diagonal";case"square":return"before-after square";default:return"before-after"}}function x(t){var e=this;if(this.container=function(t){if(t){if(t.nodeType)return t;if("string"==typeof t)return document.querySelector(arguments[0])}return null}(this.options.container)||!1,this.container){this.container.className=g.call(this),this.options.className&&(this.container.className+=" ".concat(this.options.className)),this.beforeWrapper=document.createElement("DIV"),this.beforeWrapper.className="before-after-wrapper-before",this.beforeElement=document.createElement("IMG"),this.beforeElement.src=this.container.getAttribute("data-before"),this.beforeWrapper.append(this.beforeElement),this.afterWrapper=document.createElement("DIV"),this.afterWrapper.className="before-after-wrapper-after",this.afterElement=document.createElement("IMG"),this.afterElement.src=this.container.getAttribute("data-after"),this.afterWrapper.append(this.afterElement),this.separator=document.createElement("DIV"),this.separator.className="before-after-separator",this.options.separator&&this.options.separator.class&&(this.separator.className+=" ".concat(this.options.separator.class)),this.options.separator&&this.options.separator.innerHTML&&(this.separator.innerHTML+=" ".concat(this.options.separator.innerHTML)),this.container.append(this.beforeWrapper,this.afterWrapper,this.separator),this.options.separator.innerHTML&&(this.separatorChildren=Array.prototype.slice.call(this.separator.children));var n=[this.beforeElement,this.afterElement];n.forEach((function(o){function r(){o.removeEventListener("load",s),this.emit("buildOut"),t()}var s=function(){(function(t){return t.length===t.reduce((function(t,e){return e.complete?t+1:t}),0)})(n)&&r.call(this)}.bind(e);o.addEventListener("load",s)}))}}const w=function(){return new Promise(x.bind(this))},T=function(t){console.error("BeforeAfter Error: "+t)},L=function(){document.documentElement.classList.remove(y)},E=function(){switch(this.options.width&&(this.container.style.width=this.options.width+"px"),this.options.height&&(this.container.style.height=this.options.height+"px"),this.options.direction){case"horizontal":console.log(this.container.offsetHeight/2),this.beforeWrapper.style.cssText="height: ".concat(this.container.offsetHeight/2,"px;"),this.beforeElement.style.height=this.container.offsetHeight+"px",this.separator.style.cssText="top: ".concat(this.container.offsetHeight/2,"px;");break;case"diagonal":var t=this.container.offsetWidth,e=this.container.offsetHeight,n=Math.sqrt(t*t+e*e),o=2*Math.atan(t/e)*180/Math.PI,r=180*Math.atan(e/t)/Math.PI,s=-(90-180*Math.atan(e/t)/Math.PI),i=-1*s,a=o+r;this.beforeWrapper.style.cssText="\n                width: ".concat(t,"px;\n                height: ").concat(e,"px;\n                overflow: hidden;\n                position: absolute;\n                top: 0;\n                left: 0;\n                transform-origin: 100% 0;\n                transform: skewX(").concat(s,"deg);\n            "),this.beforeElement.style.cssText="\n                width: ".concat(t,"px;\n                transform-origin: inherit;\n                transform: skewX(").concat(i,"deg);\n            "),this.separator.style.cssText="\n                width: ".concat(n,"px;\n                top: ").concat(this.container.offsetHeight/2,"px;\n                left: ").concat(this.container.offsetWidth/2,"px;\n                transform: translate(-50%,-50%) rotate(").concat(a,"deg)\n            ");break;default:this.beforeWrapper.style.cssText="width: ".concat(this.container.offsetWidth/2,"px;"),this.separator.style.cssText="left: ".concat(this.container.offsetWidth/2,"px;")}},W=function(t){t.touches&&(document.documentElement.classList.add(y),this.container.style.pointerEvents="auto",v.setContainerMove(!0));var e,n,o=this.container.offsetTop;if(this.container.offsetHeight,t.pageY&&(e=t.pageY,n=t.pageX),t.touches&&(e=t.touches[0].pageY,n=t.touches[0].pageX),e-=o,"vertical"===this.options.direction&&(this.separator.classList.add(this.options.separator.activeClass),n>0?n<this.container.offsetWidth?(this.separator.style.cssText="left: ".concat(n,"px;"),this.beforeWrapper.style.cssText="width: ".concat(n,"px;")):(this.separator.style.cssText="left: ".concat(this.container.offsetWidth,"px;"),this.beforeWrapper.style.cssText="width: ".concat(this.container.offsetWidth,"px;")):(this.beforeWrapper.style.cssText="width: 0px;",this.separator.style.cssText="left: 0px;")),"horizontal"===this.options.direction&&(console.log(e),this.separator.classList.add(this.options.separator.activeClass),e>0?(console.log("posY > 0"),e<this.container.offsetHeight?(console.log("posY < this.container.offsetHeight"),this.beforeWrapper.style.cssText="height: ".concat(e,"px;"),this.separator.style.cssText="top: ".concat(e,"px;")):(this.beforeWrapper.style.cssText="height: ".concat(this.container.offsetHeight,"px;"),this.separator.style.cssText="top: ".concat(this.container.offsetHeight,"px;"))):(console.log("posY < 0"),this.beforeWrapper.style.cssText="height: 0px;",this.separator.style.cssText="top: 0px;")),"diagonal"===this.options.direction){var r=this.container.offsetHeight,s=this.container.offsetWidth,i=r*n/s;n=(n+e*s/r)/2,e=(e+i)/2,this.separator.classList.add(this.options.separator.activeClass),n>0?n<this.container.offsetWidth?(this.separator.style.left="".concat(n,"px"),this.beforeWrapper.style.width="".concat(2*n,"px")):(this.separator.style.left="".concat(this.container.offsetWidth,"px"),this.beforeWrapper.style.width="".concat(2*this.container.offsetWidth,"px")):(this.beforeWrapper.style.width="0px",this.separator.style.left="0px"),e>0?e<this.container.offsetHeight?this.separator.style.top="".concat(e,"px"):this.separator.style.top="".concat(this.container.offsetHeight,"px"):this.separator.style.top="0px"}if("square"===this.options.direction){var a,c,p=this.container.offsetTop;this.container.offsetHeight,t.pageY&&(a=t.pageY,c=t.pageX),t.touches&&(a=t.touches[0].pageY,c=t.touches[0].pageX),a-=p,this.separator.classList.add(this.options.separator.activeClass),c>0?c<this.container.offsetWidth?(this.separator.style.left="".concat(c,"px"),this.beforeWrapper.style.width="".concat(c,"px")):(this.separator.style.left="".concat(this.container.offsetWidth,"px"),this.beforeWrapper.style.width="".concat(this.container.offsetWidth,"px")):(this.beforeWrapper.style.width="0px",this.separator.style.left="0px"),a>0?a<this.container.offsetHeight?(this.beforeWrapper.style.height="".concat(a,"px"),this.separator.style.top="".concat(a,"px")):(this.beforeWrapper.style.height="".concat(this.container.offsetHeight,"px"),this.separator.style.top="".concat(this.container.offsetHeight,"px")):(this.beforeWrapper.style.height="0px;",this.separator.style.top="0px")}};function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function C(t){return t&&"object"===M(t)&&!Array.isArray(t)&&!t.nodeType}const H=function t(e,n){return C(e)&&C(n)?(Object.keys(n).forEach((function(o){var r=e[o],s=n[o];Array.isArray(r)&&Array.isArray(s)?e[o]=r.concat(s):C(r)&&C(s)?e[o]=t(Object.assign({},r),s):e[o]=s})),e):n};function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function A(){this.container=null,this.beforeWrapper=null,this.afterWrapper=null,this.separatorElement=null,this.separatorChildren=null,this.mouseScreenX=null,this.eventsListeners={};var t={direction:"vertical",test:!0,freePosition:!1,init:!0,separator:{activeClass:b}};arguments[0]&&"object"===S(arguments[0])&&(this.options=H(t,arguments[0]));var e=W.bind(this),n=this;function o(t){console.log("down");var o=n.separatorChildren&&n.separatorChildren.includes(t.target);n.options.freePosition?(t.target===n.container||o||t.target===n.separator)&&(e(t),v.on("mousemove",e)):(t.target===n.separator||o)&&v.on("mousemove",e)}function r(t){console.log("up"),L(),v.removeOn("mousemove",e),n.separator.classList.remove(n.options.separator.activeClass)}this.init=function(){w.call(n).then((function(){if(!n.container)return T("container not found");E.call(n),v.on("mousedown",o),v.on("mouseup",r),v.on("resize",E.bind(n))}))},this.destroy=function(){n.container&&(n.container.innerHTML="",n.container.removeAttribute("class"),v.removeOn("mousedown",o),v.removeOn("mouseup",r),v.removeOn("resize",E.bind(n))),n.emit("destroy")},this.options.init&&this.init()}A.prototype.on=function(t,e){this.eventsListeners[t]||(this.eventsListeners[t]=[]),this.eventsListeners[t].push(e)},A.prototype.removeOn=function(t,e){if(!this.eventsListeners[t])return T("Can't remove a listener. Event \""+t+"\" doesn't exits.");this.eventsListeners[t]=this.eventsListeners[t].filter((function(t){return t!==e}))},A.prototype.emit=function(t,e){this.eventsListeners[t]&&this.eventsListeners[t].forEach((function(t){t(e)}))},A.prototype.test=function(t,e){console.log(this.options)};const z=A})(),o.default})()}));